<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>libting: ting::timer::Timer Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">libting
   &#160;<span id="projectnumber">2.0.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.htm"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.htm"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.htm"><span>Classes</span></a></li>
      <li><a href="files.htm"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.htm"><span>Class&#160;List</span></a></li>
      <li><a href="classes.htm"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.htm"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.htm"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classting_1_1timer_1_1Timer.htm','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">ting::timer::Timer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="ting::timer::Timer" -->
<p>General purpose timer.  
 <a href="classting_1_1timer_1_1Timer.htm#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="timer_8hpp_source.htm">timer.hpp</a>&gt;</code></p>

<p>Inherited by ting::timer::Lib::HalfMaxTicksTimer.</p>

<p><a href="classting_1_1timer_1_1Timer-members.htm">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classting_1_1timer_1_1Timer.htm#a66454d85deb053bd97519621ee60707b">OnExpired</a> ()=0  throw ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classting_1_1timer_1_1Timer.htm" title="General purpose timer.">Timer</a> expiration handler.  <a href="#a66454d85deb053bd97519621ee60707b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classting_1_1timer_1_1Timer.htm#aff28d7238c56eb67609bf590a8e2a892">Timer</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for new <a class="el" href="classting_1_1timer_1_1Timer.htm" title="General purpose timer.">Timer</a> instance.  <a href="#aff28d7238c56eb67609bf590a8e2a892"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classting_1_1timer_1_1Timer.htm#aa29dece81f5f5afaf8127cdf29b93834">~Timer</a> ()  throw ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classting_1_1timer_1_1Timer.htm#a7e87f05fc5a47fcfa8b200479708e427">Start</a> (<a class="el" href="namespaceting.htm#aa54945671d9955d39a42606fab2c1b0f">ting::u32</a> millisec)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start timer.  <a href="#a7e87f05fc5a47fcfa8b200479708e427"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classting_1_1timer_1_1Timer.htm#a62fa9819488a73d50048799a6c063cd7">Stop</a> ()  throw ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the timer.  <a href="#a62fa9819488a73d50048799a6c063cd7"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>General purpose timer. </p>
<p>This is a class representing a timer. Its accuracy is not expected to be high, approximately it is tens of milliseconds, i.e. 0.01 second. Before using the timers it is necessary to initialize the timer library, see description of ting::TimerLib class for details. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aff28d7238c56eb67609bf590a8e2a892"></a><!-- doxytag: member="ting::timer::Timer::Timer" ref="aff28d7238c56eb67609bf590a8e2a892" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classting_1_1timer_1_1Timer.htm#aff28d7238c56eb67609bf590a8e2a892">ting::timer::Timer::Timer</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor for new <a class="el" href="classting_1_1timer_1_1Timer.htm" title="General purpose timer.">Timer</a> instance. </p>
<p>The newly created timer is initially not running. </p>

</div>
</div>
<a class="anchor" id="aa29dece81f5f5afaf8127cdf29b93834"></a><!-- doxytag: member="ting::timer::Timer::~Timer" ref="aa29dece81f5f5afaf8127cdf29b93834" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classting_1_1timer_1_1Timer.htm#aa29dece81f5f5afaf8127cdf29b93834">ting::timer::Timer::~Timer</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>  throw ()<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a66454d85deb053bd97519621ee60707b"></a><!-- doxytag: member="ting::timer::Timer::OnExpired" ref="a66454d85deb053bd97519621ee60707b" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classting_1_1timer_1_1Timer.htm#a66454d85deb053bd97519621ee60707b">ting::timer::Timer::OnExpired</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>  throw ()<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classting_1_1timer_1_1Timer.htm" title="General purpose timer.">Timer</a> expiration handler. </p>
<p>This method is called when timer expires. Note, that the method is called from a separate thread, so user should do all the necessary synchronization when implementing this method. Also, note that expired methods from different timers are called sequentially, that means that, for example, if two timers have expired simultaneously then the expired method of the first timer is called first, and only after it returns the expired method of the second timer is called. That means, that one should handle the timer expiration as fast as possible to avoid inaccuracy of other timers which have expired at the same time, since the longer your expired handler method is executed, the latter expired method of those other timers will be called. Do not do any heavy calculations or logics in the expired handler method. Do just quick initiation of the action which should be taken on timer expiration, for example, post a message to the message queue of another thread to be handled by that another thread. </p>

</div>
</div>
<a class="anchor" id="a7e87f05fc5a47fcfa8b200479708e427"></a><!-- doxytag: member="ting::timer::Timer::Start" ref="a7e87f05fc5a47fcfa8b200479708e427" args="(ting::u32 millisec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classting_1_1timer_1_1Timer.htm#a7e87f05fc5a47fcfa8b200479708e427">ting::timer::Timer::Start</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceting.htm#aa54945671d9955d39a42606fab2c1b0f">ting::u32</a>&#160;</td>
          <td class="paramname"><em>millisec</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start timer. </p>
<p>After calling this method one can be sure that the timer state has been switched to running. This means that if you call <a class="el" href="classting_1_1timer_1_1Timer.htm#a62fa9819488a73d50048799a6c063cd7" title="Stop the timer.">Stop()</a> after that and it returns false then this will mean that the timer has expired rather than not started. It is allowed to call the <a class="el" href="classting_1_1timer_1_1Timer.htm#a7e87f05fc5a47fcfa8b200479708e427" title="Start timer.">Start()</a> method from within the handler of the timer expired signal. If the timer is already running (i.e. it was already started before and has not expired yet) the <a class="el" href="classting_1_1Exc.htm" title="Basic exception class.">ting::Exc</a> exception will be thrown. This method is thread-safe. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">millisec</td><td>- timer timeout in milliseconds. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a62fa9819488a73d50048799a6c063cd7"></a><!-- doxytag: member="ting::timer::Timer::Stop" ref="a62fa9819488a73d50048799a6c063cd7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classting_1_1timer_1_1Timer.htm#a62fa9819488a73d50048799a6c063cd7">ting::timer::Timer::Stop</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>  throw ()<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stop the timer. </p>
<p>Stops the timer if it was started before. In case it was not started or it has already expired this method does nothing. This method is thread-safe. After this method has returned you may be sure that the <a class="el" href="classting_1_1timer_1_1Timer.htm#a66454d85deb053bd97519621ee60707b" title="Timer expiration handler.">OnExpired()</a> callback will not be called anymore, unless the timer was not started again from within the callback if the callback was called before returning from <a class="el" href="classting_1_1timer_1_1Timer.htm#a62fa9819488a73d50048799a6c063cd7" title="Stop the timer.">Stop()</a> method. Such case can be caught by checking the return value of the method. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if timer was running and was stopped. </dd>
<dd>
false if timer was not running already when the <a class="el" href="classting_1_1timer_1_1Timer.htm#a62fa9819488a73d50048799a6c063cd7" title="Stop the timer.">Stop()</a> method was called. I.e. the timer has expired already or was not started. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="timer_8hpp_source.htm">timer.hpp</a></li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceting.htm">ting</a>      </li>
      <li class="navelem"><a class="el" href="namespaceting_1_1timer.htm">timer</a>      </li>
      <li class="navelem"><a class="el" href="classting_1_1timer_1_1Timer.htm">Timer</a>      </li>

    <li class="footer">Generated on Thu Feb 21 2013 20:36:39 for libting by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
